# ××¤×ª ×¤×¨×•×™×§×˜ - ××¢×¨×›×ª × ×™×”×•×œ ×ª×•×¨×™× ×œ××¨×¤××•×ª

## ×¡×§×™×¨×” ×›×œ×œ×™×ª

×¤×¨×•×™×§×˜ WordPress Plugin ×œ× ×™×”×•×œ ×ª×•×¨×™× ×‘××¨×¤××•×ª ×¨×¤×•××™×•×ª ×¢× ×ª××™×›×” ××œ××” ×‘×¢×‘×¨×™×ª ×•××™× ×˜×’×¨×¦×™×” ×œ-Elementor.

## ××‘× ×” ×”×§×‘×¦×™× ×”××¤×•×¨×˜

### ğŸ“ Root Directory
```
clinic-queue-management/
â”œâ”€â”€ ğŸ“„ clinic-queue-management.php     # × ×§×•×“×ª ×›× ×™×¡×” ×¨××©×™×ª
â”œâ”€â”€ ğŸ“„ README.md                      # ×ª×™×¢×•×“ ×‘×¡×™×¡×™
â”œâ”€â”€ ğŸ“„ SPECIFICATION.md               # ××¡××š ××™×¤×™×•×Ÿ ××¤×•×¨×˜
â”œâ”€â”€ ğŸ“„ ARCHITECTURE_DIAGRAM.md        # ×ª×¨×©×™××™ ××¨×›×™×˜×§×˜×•×¨×”
â”œâ”€â”€ ğŸ“„ PROJECT_MAP.md                 # ××¤×” ×–×•
â””â”€â”€ ğŸ–¼ï¸ Screenshot 2025-09-25 at 13.54.33.png
```

### ğŸ“ Core Layer (×œ×™×‘×ª ×”××¢×¨×›×ª)
```
core/
â”œâ”€â”€ ğŸ“„ class-plugin-core.php          # ×× ×”×œ ××¨×›×–×™
â”‚   â”œâ”€â”€ ğŸ”§ init()                     # ××ª×—×•×œ ×”×¤×œ××’×™×Ÿ
â”‚   â”œâ”€â”€ ğŸ”§ load_dependencies()        # ×˜×¢×™× ×ª ×ª×œ×•×™×•×ª
â”‚   â”œâ”€â”€ ğŸ”§ register_ajax_handlers()   # ×¨×™×©×•× AJAX
â”‚   â”œâ”€â”€ ğŸ”§ register_rest_routes()     # ×¨×™×©×•× REST API
â”‚   â”œâ”€â”€ ğŸ”§ add_admin_menu()           # ×”×•×¡×¤×ª ×ª×¤×¨×™×˜ × ×™×”×•×œ
â”‚   â””â”€â”€ ğŸ”§ register_widgets()         # ×¨×™×©×•× ×•×•×™×“×’'×˜×™×
â”‚
â””â”€â”€ ğŸ“„ class-helpers.php              # ×¤×•× ×§×¦×™×•×ª ×¢×–×¨
    â”œâ”€â”€ ğŸ”§ sanitize_input()           # × ×™×§×•×™ ×§×œ×˜
    â”œâ”€â”€ ğŸ”§ validate_data()             # ××™××•×ª × ×ª×•× ×™×
    â””â”€â”€ ğŸ”§ format_response()           # ×¢×™×¦×•×‘ ×ª×’×•×‘×”
```

### ğŸ“ API Layer (×©×›×‘×ª API)
```
api/
â”œâ”€â”€ ğŸ“„ class-api-manager.php          # ×× ×”×œ API
â”‚   â”œâ”€â”€ ğŸ”§ fetch_appointments()       # ×§×‘×œ×ª ×ª×•×¨×™× ×-API ×—×™×¦×•× ×™
â”‚   â”œâ”€â”€ ğŸ”§ get_available_slots()      # ×§×‘×œ×ª ×©×¢×•×ª ×–××™× ×•×ª
â”‚   â”œâ”€â”€ ğŸ”§ validate_api_response()    # ××™××•×ª ×ª×’×•×‘×ª API
â”‚   â””â”€â”€ ğŸ”§ handle_api_error()         # ×˜×™×¤×•×œ ×‘×©×’×™××•×ª API
â”‚
â””â”€â”€ ğŸ“„ class-rest-handlers.php        # ×× ×”×œ REST API
    â”œâ”€â”€ ğŸ”§ register_routes()          # ×¨×™×©×•× × ×ª×™×‘×™ API
    â”œâ”€â”€ ğŸ”§ get_appointments_endpoint() # × ×§×•×“×ª ×§×¦×” ×œ×§×‘×œ×ª ×ª×•×¨×™×
    â””â”€â”€ ğŸ”§ validate_request()          # ××™××•×ª ×‘×§×©×•×ª
```

### ğŸ“ Admin Layer (×©×›×‘×ª × ×™×”×•×œ)
```
admin/
â”œâ”€â”€ ğŸ“„ class-dashboard.php            # ×“×©×‘×•×¨×“ ×¨××©×™
â”‚   â”œâ”€â”€ ğŸ”§ render_page()              # ×”×¦×’×ª ×“×£
â”‚   â”œâ”€â”€ ğŸ”§ enqueue_assets()           # ×˜×¢×™× ×ª × ×›×¡×™×
â”‚   â””â”€â”€ ğŸ”§ get_dashboard_data()       # ×§×‘×œ×ª × ×ª×•× ×™ ×“×©×‘×•×¨×“
â”‚
â”œâ”€â”€ ğŸ“„ class-admin-menu.php           # ×× ×”×œ ×ª×¤×¨×™×˜ × ×™×”×•×œ
â”‚   â”œâ”€â”€ ğŸ”§ add_menu_items()           # ×”×•×¡×¤×ª ×¤×¨×™×˜×™ ×ª×¤×¨×™×˜
â”‚   â””â”€â”€ ğŸ”§ register_pages()           # ×¨×™×©×•× ×“×¤×™ × ×™×”×•×œ
â”‚
â”œâ”€â”€ ğŸ“„ class-ajax-handlers.php         # ×× ×”×œ AJAX
â”‚   â”œâ”€â”€ ğŸ”§ handle_get_appointments()  # ×˜×™×¤×•×œ ×‘×‘×§×©×ª ×ª×•×¨×™×
â”‚   â””â”€â”€ ğŸ”§ validate_ajax_request()    # ××™××•×ª ×‘×§×©×•×ª AJAX
â”‚
â”œâ”€â”€ ğŸ“ assets/                        # × ×›×¡×™ ×××©×§ × ×™×”×•×œ
â”‚   â””â”€â”€ ğŸ“ js/
â”‚       â””â”€â”€ ğŸ“„ dashboard.js           # JavaScript ×“×©×‘×•×¨×“
â”‚
â””â”€â”€ ğŸ“ views/                         # ×ª×‘× ×™×•×ª HTML
    â””â”€â”€ ğŸ“„ dashboard-html.php         # ×ª×‘× ×™×ª ×“×©×‘×•×¨×“
```

### ğŸ“ Frontend Layer (×©×›×‘×ª ××©×ª××©)
```
frontend/
â”œâ”€â”€ ğŸ“ widgets/                       # ×•×•×™×“×’'×˜×™×
â”‚   â”œâ”€â”€ ğŸ“„ class-clinic-queue-widget.php      # ×•×•×™×“×’'×˜ Elementor
â”‚   â”‚   â”œâ”€â”€ ğŸ”§ get_name()             # ×©× ×”×•×•×™×“×’'×˜
â”‚   â”‚   â”œâ”€â”€ ğŸ”§ get_title()            # ×›×•×ª×¨×ª ×”×•×•×™×“×’'×˜
â”‚   â”‚   â”œâ”€â”€ ğŸ”§ get_icon()             # ××™×™×§×•×Ÿ ×”×•×•×™×“×’'×˜
â”‚   â”‚   â”œâ”€â”€ ğŸ”§ get_categories()       # ×§×˜×’×•×¨×™×•×ª
â”‚   â”‚   â”œâ”€â”€ ğŸ”§ get_script_depends()   # ×ª×œ×•×™×•×ª JavaScript
â”‚   â”‚   â”œâ”€â”€ ğŸ”§ get_style_depends()    # ×ª×œ×•×™×•×ª CSS
â”‚   â”‚   â”œâ”€â”€ ğŸ”§ register_controls()    # ×¨×™×©×•× ×‘×§×¨×•×ª
â”‚   â”‚   â””â”€â”€ ğŸ”§ render()               # ×”×¦×’×ª ×”×•×•×™×“×’'×˜
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“ managers/
â”‚       â”œâ”€â”€ ğŸ“„ class-widget-ajax-handlers.php # ×× ×”×œ AJAX ×œ×•×•×™×“×’'×˜
â”‚       â”‚   â”œâ”€â”€ ğŸ”§ fetch_appointments()      # ×§×‘×œ×ª ×ª×•×¨×™× ×-API
â”‚       â”‚   â””â”€â”€ ğŸ”§ handle_api_request()       # ×˜×™×¤×•×œ ×‘×‘×§×©×ª API
â”‚       â”‚
â”‚       â”œâ”€â”€ ğŸ“„ class-calendar-data-provider.php # ×¡×¤×§ × ×ª×•× ×™ ×œ×•×— ×©× ×”
â”‚       â”‚   â”œâ”€â”€ ğŸ”§ get_appointments_for_calendar() # ×§×‘×œ×ª ×ª×•×¨×™× ×œ×™×•××Ÿ
â”‚       â”‚   â””â”€â”€ ğŸ”§ format_appointments_data() # ×¢×™×¦×•×‘ × ×ª×•× ×™ ×ª×•×¨×™×
â”‚       â”‚
â”‚       â””â”€â”€ ğŸ“„ class-calendar-filter-engine.php # ×× ×•×¢ ×¡×™× ×•×Ÿ ×œ×•×— ×©× ×”
â”‚           â”œâ”€â”€ ğŸ”§ filter_by_date()           # ×¡×™× ×•×Ÿ ×œ×¤×™ ×ª××¨×™×š
â”‚           â””â”€â”€ ğŸ”§ filter_by_availability()   # ×¡×™× ×•×Ÿ ×œ×¤×™ ×–××™× ×•×ª
â”‚
â”œâ”€â”€ ğŸ“ shortcodes/                    # Shortcodes
â”‚   â””â”€â”€ ğŸ“„ class-shortcode-handler.php       # ×× ×”×œ Shortcode
â”‚       â”œâ”€â”€ ğŸ”§ register_shortcode()   # ×¨×™×©×•× Shortcode
â”‚       â””â”€â”€ ğŸ”§ render_shortcode()     # ×”×¦×’×ª Shortcode
â”‚
â””â”€â”€ ğŸ“ assets/                        # × ×›×¡×™ Frontend
    â”œâ”€â”€ ğŸ“ css/
    â”‚   â””â”€â”€ ğŸ“„ clinic-queue.css       # ×¢×™×¦×•×‘ ×¨××©×™
    â””â”€â”€ ğŸ“ js/
        â””â”€â”€ ğŸ“„ clinic-queue.js        # JavaScript ×¨××©×™
            â”œâ”€â”€ ğŸ”§ ClinicQueueWidget  # ××—×œ×§×ª ×•×•×™×“×’'×˜
            â”œâ”€â”€ ğŸ”§ ClinicQueueManager # ×× ×”×œ ×›×œ×œ×™
            â”œâ”€â”€ ğŸ”§ fetchAppointmentsFromAPI() # ×§×‘×œ×ª ×ª×•×¨×™× ×-API
            â”œâ”€â”€ ğŸ”§ bindEvents()       # ×§×™×©×•×¨ ××™×¨×•×¢×™×
            â”œâ”€â”€ ğŸ”§ renderCalendar()   # ×”×¦×’×ª ×œ×•×— ×©× ×”
            â””â”€â”€ ğŸ”§ renderTimeSlots()  # ×”×¦×’×ª ×©×¢×•×ª
```

### ğŸ“ Data Layer (×©×›×‘×ª × ×ª×•× ×™×)
```
data/
â””â”€â”€ ğŸ“„ mock-data.json                 # × ×ª×•× ×™ ×“××• (×œ×¤×™×ª×•×— ×‘×œ×‘×“)
    â””â”€â”€ ğŸ“Š API Response Format        # ×¤×•×¨××˜ ×ª×’×•×‘×ª API
        â”œâ”€â”€ ğŸ”‘ calendar_id            # ××–×”×” ×™×•××Ÿ
        â”œâ”€â”€ ğŸ”‘ doctor_id              # ××–×”×” ×¨×•×¤×
        â”œâ”€â”€ ğŸ”‘ clinic_id              # ××–×”×” ××¨×¤××”
        â””â”€â”€ ğŸ“Š available_slots[]      # ×©×¢×•×ª ×–××™× ×•×ª
            â””â”€â”€ ğŸ“… date               # ×ª××¨×™×š
                â””â”€â”€ â° time_slots[]   # ×©×¢×•×ª ×–××™× ×•×ª
                    â””â”€â”€ ğŸ”‘ time       # ×©×¢×”
```

## ×–×¨×™××ª × ×ª×•× ×™×

### 1. ××ª×—×•×œ ×”××¢×¨×›×ª
```
WordPress â†’ clinic-queue-management.php â†’ Plugin Core â†’ Register Widgets & AJAX
```

### 2. ×”×¦×’×ª ×ª×•×¨×™× (×–×¨×™××” ×—×“×©×”)
```
User â†’ Widget/Shortcode ××•×¤×™×¢ ×‘×¢××•×“ â†’ JavaScript â†’ AJAX Request â†’ API Manager â†’ External API â†’ Response â†’ Display
```

**×”×¢×¨×” ×—×©×•×‘×”:** ×‘×›×œ ×¤×¢× ×©×•×•×™×“×’'×˜ ××•×¤×™×¢ ×‘×¢××•×“, ×”×•× ×¤×•× ×” ×™×©×™×¨×•×ª ×œ-API ×”×—×™×¦×•× ×™ ×¢× ×”××–×”×” ×©×œ ×”×™×•××Ÿ/×¨×•×¤×/××¨×¤××” ×•××‘×§×© ××ª ×”×ª×•×¨×™× ×”×¤× ×•×™×™×. ××™×Ÿ ×©××™×¨×” ×‘×‘×¡×™×¡ × ×ª×•× ×™× ××§×•××™ ×•××™×Ÿ ×©×™××•×© ×‘-Cron Jobs.

## × ×§×•×“×•×ª ××™× ×˜×’×¨×¦×™×”

### 1. WordPress
- **Hooks:** `plugins_loaded`, `admin_menu`, `rest_api_init`
- **AJAX:** `wp_ajax_*`, `wp_ajax_nopriv_*`
- **Database:** `$wpdb` global
- **Security:** `check_ajax_referer`, `current_user_can`

### 2. Elementor
- **Widget Registration:** `elementor/widgets/register`
- **Controls:** `add_control()`, `add_group_control()`
- **Rendering:** `render()` method
- **Dependencies:** `get_script_depends()`, `get_style_depends()`

### 3. External API
- **Real-time API:** ×›×œ ×§×¨×™××” ×œ-API ×”×™× ×‘×–××Ÿ ×××ª
- **No Cache:** ××™×Ÿ ×©××™×¨×” ××§×•××™×ª ×©×œ × ×ª×•× ×™×
- **Direct Request:** ×”×•×•×™×“×’'×˜ ×¤×•× ×” ×™×©×™×¨×•×ª ×œ-API ×¢× ××–×”×” ×™×•××Ÿ/×¨×•×¤×/××¨×¤××”
- **No Sync:** ××™×Ÿ ×¡× ×›×¨×•×Ÿ - ×›×œ × ×ª×•× ×™× ××’×™×¢×™× ×™×©×™×¨×•×ª ××”-API

## ×ª×›×•× ×•×ª ××¨×›×–×™×•×ª

### âœ… ××•××©
- [x] ×•×•×™×“×’'×˜ Elementor
- [x] Shortcode support
- [x] ×ª××™×›×” ×‘-RTL
- [x] AJAX handlers
- [x] REST API endpoints
- [x] ××™× ×˜×’×¨×¦×™×” ×™×©×™×¨×” ×¢× API ×—×™×¦×•× ×™
- [x] ×§×‘×œ×ª ×ª×•×¨×™× ×‘×–××Ÿ ×××ª

### ğŸ”„ ×‘×ª×”×œ×™×š
- [ ] ××™× ×˜×’×¨×¦×™×” ×¢× API ×—×™×¦×•× ×™
- [ ] ××¢×¨×›×ª ×”×ª×¨××•×ª
- [ ] ×“×•×—×•×ª ××ª×§×“××™×

### ğŸ“‹ ×¢×ª×™×“×™
- [ ] ××¤×œ×™×§×¦×™×” × ×™×™×“×ª
- [ ] ×ª×©×œ×•××™× ××•× ×œ×™×™×Ÿ
- [ ] AI ×œ× ×™×”×•×œ ×ª×•×¨×™×
- [ ] ×× ×œ×™×˜×™×§×¡ ××ª×§×“×

## ××¡×§× ×•×ª

×”×¤×¨×•×™×§×˜ ×‘× ×•×™ ×‘××¨×›×™×˜×§×˜×•×¨×” ××•×“×•×œ×¨×™×ª ×•×‘×¨×•×¨×” ×¢×:
- **×”×¤×¨×“×ª ××—×¨×™×•×ª** ×‘×¨×•×¨×” ×‘×™×Ÿ ×”×©×›×‘×•×ª
- **×§×•×“ × ×§×™ ×•××ª×•×¢×“** ×¢× ×ª×’×•×‘×•×ª ×‘×¢×‘×¨×™×ª
- **×ª××™×›×” ××œ××”** ×‘×¢×‘×¨×™×ª ×•-RTL
- **××™× ×˜×’×¨×¦×™×” ××œ××”** ×¢× WordPress ×•-Elementor
- **××¤×©×¨×•×™×•×ª ×”×¨×—×‘×”** ×¢×ª×™×“×™×•×ª
- **×‘×™×¦×•×¢×™× ××•×ª×××™×** ×œ×¡×‘×™×‘×ª ×™×™×¦×•×¨
