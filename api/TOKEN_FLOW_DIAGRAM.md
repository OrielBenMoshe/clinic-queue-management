# ×“×™××’×¨××ª ×–×¨×™××ª ×˜×•×›×Ÿ API - ×•×™×–×•××œ×™×–×¦×™×”

## ğŸ¯ ×”×ª××•× ×” ×”×›×œ×œ×™×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      WORDPRESS DATABASE                         â”‚
â”‚                         (wp_options)                            â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ clinic_queue_api_token_encrypted                          â”‚ â”‚
â”‚  â”‚ Value: "base64(IV + AES-256-CBC encrypted token)"         â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ clinic_queue_api_endpoint                                 â”‚ â”‚
â”‚  â”‚ Value: "https://do-proxy-staging.doctor-clinix.com"      â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                              â”‚
                              â”‚ ×©××™×¨×” (××•×¦×¤×Ÿ)
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ADMIN SETTINGS PAGE                          â”‚
â”‚                  (wp-admin/admin.php?page=...)                  â”‚
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  [×˜×•×›×Ÿ API]          â”‚    â”‚  [×›×ª×•×‘×ª ×©×¨×ª]         â”‚         â”‚
â”‚  â”‚  abc123xyz789        â”‚    â”‚  https://...         â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                                 â”‚
â”‚              [×©××•×¨ ×”×’×“×¨×•×ª] â† ×œ×—×™×¦×”                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¡ ×–×¨×™××ª ×§×¨×™××ª API - ××ª×—×™×œ×” ×•×¢×“ ×¡×•×£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 1: ××©×ª××©/××¢×¨×›×ª ××‘×§×© × ×ª×•× ×™×                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Widget / Shortcode / REST Endpoint  â”‚
        â”‚   "×× ×™ ×¦×¨×™×š ×ª×•×¨×™× ×œ××¨×¤××” 123"         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 2: ×§×¨×™××” ×œ-Service ×”××ª××™×                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Appointment_Service                 â”‚
        â”‚   Scheduler_Service                   â”‚
        â”‚   Google_Calendar_Service             â”‚
        â”‚   (×›×•×œ× ×™×•×¨×©×™× ×-Base_Service)        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 3: Base_Service ×©×•×œ×£ ×˜×•×›×Ÿ ×•×›×ª×•×‘×ª ×-Database                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â–¼                           â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ get_auth_token()   â”‚      â”‚ $this->api_endpointâ”‚
    â”‚                    â”‚      â”‚                    â”‚
    â”‚ 1. Check constant  â”‚      â”‚ From constructor:  â”‚
    â”‚ 2. Get from DB âœ“   â”‚      â”‚ get_option(...)    â”‚
    â”‚ 3. Decrypt âœ“       â”‚      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚ 4. Return token    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â–¼
        "abc123xyz789"
                â”‚
                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 4: make_request() ×‘×•× ×” ××ª ×”×‘×§×©×”                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   URL: api_endpoint + /api/v1/...    â”‚
        â”‚   Headers:                            â”‚
        â”‚     - Content-Type: application/json  â”‚
        â”‚     - DoctorOnlineProxyAuthToken: ... â”‚
        â”‚   Body: JSON data                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 5: ×©×œ×™×—×ª HTTP Request                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   wp_remote_post()                    â”‚
        â”‚   wp_remote_get()                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚ HTTP Request
                              â–¼
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                    EXTERNAL API SERVER                               â•‘
â•‘            https://do-proxy-staging.doctor-clinix.com                â•‘
â•‘                                                                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘  â”‚ POST /api/v1/appointments                                  â”‚    â•‘
â•‘  â”‚ Headers:                                                   â”‚    â•‘
â•‘  â”‚   DoctorOnlineProxyAuthToken: abc123xyz789                 â”‚    â•‘
â•‘  â”‚ Body:                                                      â”‚    â•‘
â•‘  â”‚   { "clinic_id": 123, "doctor_id": 456 }                  â”‚    â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•‘                              â”‚                                       â•‘
â•‘                              â–¼                                       â•‘
â•‘                    [××™××•×ª ×˜×•×›×Ÿ]                                     â•‘
â•‘                              â”‚                                       â•‘
â•‘                              â–¼                                       â•‘
â•‘                    [×¢×™×‘×•×“ ×‘×§×©×”]                                     â•‘
â•‘                              â”‚                                       â•‘
â•‘                              â–¼                                       â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â•‘
â•‘  â”‚ Response: 200 OK                                           â”‚    â•‘
â•‘  â”‚ {                                                          â”‚    â•‘
â•‘  â”‚   "success": true,                                         â”‚    â•‘
â•‘  â”‚   "data": { ... appointments ... }                         â”‚    â•‘
â•‘  â”‚ }                                                          â”‚    â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                              â”‚
                              â”‚ HTTP Response
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 6: ×¢×™×‘×•×“ ×ª×’×•×‘×”                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   make_request() ××¢×‘×“:                â”‚
        â”‚   - ×‘×“×™×§×ª status code                 â”‚
        â”‚   - ×¤×¢× ×•×— JSON                        â”‚
        â”‚   - error handling                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ STEP 7: ×”×—×–×¨×ª × ×ª×•× ×™× ×œ××‘×§×©                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   Widget / Shortcode / REST           â”‚
        â”‚   ××§×‘×œ ××ª ×”× ×ª×•× ×™× ×•××¦×™×’ ×œ××©×ª××©        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” ×–×¨×™××ª ×”×¦×¤× ×” ×•×¤×¢× ×•×—

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ENCRYPTION FLOW                          â”‚
â”‚                      (×›××©×¨ ×©×•××¨×™× ×˜×•×›×Ÿ)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    ××©×ª××© ××–×™×Ÿ: "abc123xyz789"
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ encrypt_token()     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”œâ”€â–º Generate random IV (16 bytes)
              â”‚
              â”œâ”€â–º Get encryption key from AUTH_SALT
              â”‚   hash('sha256', AUTH_SALT + siteurl)
              â”‚
              â”œâ”€â–º Encrypt with AES-256-CBC
              â”‚   openssl_encrypt(token, 'AES-256-CBC', key, 0, iv)
              â”‚
              â””â”€â–º Encode to base64
                  base64_encode(iv + encrypted)
                        â”‚
                        â–¼
              "dGVzdF9pdl9kYXRh..." â† × ×©××¨ ×‘-DB
                        â”‚
                        â–¼
              update_option('clinic_queue_api_token_encrypted', ...)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DECRYPTION FLOW                          â”‚
â”‚                   (×›××©×¨ ××©×ª××©×™× ×‘×˜×•×›×Ÿ)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    get_option('clinic_queue_api_token_encrypted')
              â”‚
              â–¼
    "dGVzdF9pdl9kYXRh..."
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ decrypt_token()     â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚
              â”œâ”€â–º Decode from base64
              â”‚
              â”œâ”€â–º Extract IV (first 16 bytes)
              â”‚
              â”œâ”€â–º Extract encrypted data (rest)
              â”‚
              â”œâ”€â–º Get encryption key (same as encryption)
              â”‚
              â””â”€â–º Decrypt with AES-256-CBC
                  openssl_decrypt(encrypted, 'AES-256-CBC', key, 0, iv)
                        â”‚
                        â–¼
              "abc123xyz789" â† ×˜×•×›×Ÿ ××¤×•×¢× ×—
                        â”‚
                        â–¼
              × ×©×œ×— ×‘-HTTP Header
```

---

## ğŸ—ï¸ ××¨×›×™×˜×§×˜×•×¨×ª ×”××—×œ×§×•×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Base_Service (Abstract)                     â”‚
â”‚                                                                â”‚
â”‚  Properties:                                                   â”‚
â”‚  â”œâ”€ $api_endpoint                                             â”‚
â”‚  â””â”€ $api_manager                                              â”‚
â”‚                                                                â”‚
â”‚  Methods:                                                      â”‚
â”‚  â”œâ”€ get_auth_token($scheduler_id)     â† ×©×•×œ×£ ×˜×•×›×Ÿ ×-DB       â”‚
â”‚  â”œâ”€ encrypt_token($token)              â† ××¦×¤×™×Ÿ                â”‚
â”‚  â”œâ”€ decrypt_token($encrypted)          â† ××¤×¢× ×—                â”‚
â”‚  â”œâ”€ get_encryption_key()               â† ××¤×ª×— ×”×¦×¤× ×”           â”‚
â”‚  â””â”€ make_request($method, $endpoint)   â† ×©×•×œ×— HTTP            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â–²
                              â”‚ extends
                              â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                     â”‚                     â”‚
        â–¼                     â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Appointment  â”‚    â”‚  Scheduler   â”‚    â”‚   Google     â”‚
â”‚   Service    â”‚    â”‚   Service    â”‚    â”‚  Calendar    â”‚
â”‚              â”‚    â”‚              â”‚    â”‚   Service    â”‚
â”‚ - get_...()  â”‚    â”‚ - create_..()â”‚    â”‚ - sync_...() â”‚
â”‚ - update_...()â”‚   â”‚ - update_..()â”‚    â”‚ - push_...() â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

×›×œ Service ××•×˜×•××˜×™×ª ××§×‘×œ:
âœ“ ×’×™×©×” ×œ×˜×•×›×Ÿ (××¤×•×¢× ×—)
âœ“ ×’×™×©×” ×œ×›×ª×•×‘×ª API
âœ“ ×™×›×•×œ×ª ×œ×©×œ×•×— requests
âœ“ Error handling ××•×‘× ×”
```

---

## ğŸ”„ Priority System - ×¡×“×¨ ×¢×“×™×¤×•×™×•×ª

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              ××™×š ×”×ª×•×¡×£ ××—×œ×™×˜ ××™×–×” ×˜×•×›×Ÿ ×œ×”×©×ª××©?                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

    get_auth_token() × ×§×¨×
              â”‚
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Priority 1: Constant                â”‚
    â”‚ defined('CLINIC_QUEUE_API_TOKEN')   â”‚
    â”‚                                     â”‚
    â”‚ âœ“ ×”×›×™ ×××•×‘×˜×—                        â”‚
    â”‚ âœ“ ×œ× ×‘××¡×“ × ×ª×•× ×™×                   â”‚
    â”‚ âœ“ × ×“×¨×© ×’×™×©×” ×œ×©×¨×ª                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ ×× ×œ× ×§×™×™×
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Priority 2: Database Option         â”‚
    â”‚ get_option('..._encrypted')         â”‚
    â”‚                                     â”‚
    â”‚ âœ“ × ×©××¨ ××•×¦×¤×Ÿ                       â”‚  â† ×–×” ××” ×©×× ×—× ×• ××©×ª××©×™×!
    â”‚ âœ“ × ×™×ª×Ÿ ×œ×¢×¨×™×›×” ×‘×××©×§ × ×™×”×•×œ          â”‚
    â”‚ âœ“ ××•×˜×•××˜×™ ××¤×•×¢× ×—                   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ ×× ×œ× ×§×™×™×
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Priority 3: Filter                  â”‚
    â”‚ apply_filters('..._token', ...)     â”‚
    â”‚                                     â”‚
    â”‚ âœ“ ×œ×©×™××•×© ×¤×¨×•×’×¨××˜×™                  â”‚
    â”‚ âœ“ ×œ×•×’×™×§×” ××•×ª×××ª ××™×©×™×ª              â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â”‚ ×× ×œ× ×§×™×™×
              â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ Priority 4: Fallback                â”‚
    â”‚ return $scheduler_id                â”‚
    â”‚                                     â”‚
    â”‚ âš  Legacy behavior                   â”‚
    â”‚ âš  ×œ× ××•××œ×¥                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ×˜×‘×œ×ª ×”×©×•×•××”: ×œ×¤× ×™ ×•××—×¨×™

| ×”×™×‘×˜ | ×œ×¤× ×™ (×œ×œ× ×˜×•×›×Ÿ ××¨×›×–×™) | ××—×¨×™ (×¢× ×˜×•×›×Ÿ ××¨×›×–×™) |
|------|----------------------|---------------------|
| **×”×’×“×¨×”** | ×‘×›×œ Service ×‘× ×¤×¨×“ | ×¤×¢× ××—×ª ×‘×“×£ ×”×’×“×¨×•×ª |
| **××‘×˜×—×”** | ×˜×§×¡×˜ ×¤×©×•×˜ | ××•×¦×¤×Ÿ AES-256-CBC |
| **×©×™× ×•×™** | ×¢×¨×™×›×ª ×§×•×“ | ×“×¨×š ×××©×§ × ×™×”×•×œ |
| **×¢×§×‘×™×•×ª** | ×©×•× ×” ×‘×™×Ÿ Services | ×–×”×” ×œ×›×•×œ× |
| **×ª×—×–×•×§×”** | ×§×©×” | ×§×œ×” |
| **×’×™×‘×•×™** | ×¦×¨×™×š ×œ×’×‘×•×ª ×§×•×“ | × ×’×‘×” ×¢× DB |

---

## ğŸ¬ ×ª×¨×—×™×© ××¦×™××•×ª×™: ××©×ª××© ×¨×•×¦×” ×œ×¨××•×ª ×ª×•×¨×™×

```
1. ××©×ª××© × ×›× ×¡ ×œ×“×£ ×¢× Widget
   â””â”€â–º URL: https://mysite.com/appointments

2. Elementor ×˜×•×¢×Ÿ ××ª ×”×•×•×™×“×’'×˜
   â””â”€â–º class-clinic-queue-widget.php

3. Widget ×§×•×¨× ×œ-API Manager
   â””â”€â–º $api_manager->get_appointments_data(...)

4. API Manager ×§×•×¨× ×œ-Appointment Service
   â””â”€â–º $service->get_appointments(...)

5. Appointment Service (×™×•×¨×© ×-Base_Service):
   â”œâ”€â–º $this->get_auth_token() 
   â”‚   â””â”€â–º get_option('clinic_queue_api_token_encrypted')
   â”‚       â””â”€â–º decrypt_token(...)
   â”‚           â””â”€â–º "abc123xyz789"
   â”‚
   â””â”€â–º $this->make_request('POST', '/api/v1/appointments')
       â””â”€â–º Headers: { DoctorOnlineProxyAuthToken: "abc123xyz789" }

6. wp_remote_post() ×©×•×œ×— ×œ:
   â””â”€â–º https://do-proxy-staging.doctor-clinix.com/api/v1/appointments

7. ×©×¨×ª ×—×™×¦×•× ×™ ××××ª ×˜×•×›×Ÿ ×•××—×–×™×¨ × ×ª×•× ×™×
   â””â”€â–º { "success": true, "data": [...] }

8. Widget ××¦×™×’ ××ª ×”×ª×•×¨×™× ×œ××©×ª××©
   â””â”€â–º âœ“ ×”×¦×œ×—×”!
```

**×–××Ÿ ×›×•×œ×œ**: ~2-3 ×©× ×™×•×ª  
**××¡×¤×¨ ×¤×¢××™× ×©×”×˜×•×›×Ÿ × ×©×œ×£ ×-DB**: 1  
**××¡×¤×¨ ×¤×¢××™× ×©×”×˜×•×›×Ÿ ××¤×•×¢× ×—**: 1  
**××¡×¤×¨ ×§×¨×™××•×ª API**: 1

---

## ğŸ’¡ ×˜×™×¤×™× ×œ×¤×™×ª×•×—

### Debug Mode - ×œ×¨××•×ª ××” ×§×•×¨×”

×”×•×¡×£ ×œ-`wp-config.php`:

```php
define('WP_DEBUG', true);
define('WP_DEBUG_LOG', true);
```

×”×•×¡×£ ×œ-`class-base-service.php` ×‘×ª×•×š `make_request()`:

```php
if (defined('WP_DEBUG') && WP_DEBUG) {
    error_log('=== API Request Debug ===');
    error_log('URL: ' . $url);
    error_log('Method: ' . $method);
    error_log('Token: ' . substr($auth_token, 0, 10) . '...');
    error_log('Headers: ' . print_r($headers, true));
    error_log('Body: ' . print_r($data, true));
}
```

×‘×“×•×§ ×‘-`wp-content/debug.log`:

```
[30-Dec-2025 10:15:23 UTC] === API Request Debug ===
[30-Dec-2025 10:15:23 UTC] URL: https://do-proxy-staging.doctor-clinix.com/api/v1/appointments
[30-Dec-2025 10:15:23 UTC] Method: POST
[30-Dec-2025 10:15:23 UTC] Token: abc123xyz7...
[30-Dec-2025 10:15:23 UTC] Headers: Array ( [Content-Type] => application/json ... )
```

---

## âœ… Checklist: ×”×× ×”×›×œ ×¢×•×‘×“?

- [ ] ×”×˜×•×›×Ÿ × ×©××¨ ×‘×“×£ ×”×’×“×¨×•×ª
- [ ] `get_option('clinic_queue_api_token_encrypted')` ××—×–×™×¨ ×¢×¨×š
- [ ] Services ×™×•×¨×©×™× ×-`Base_Service`
- [ ] `get_auth_token()` ××—×–×™×¨ ×˜×•×›×Ÿ ××¤×•×¢× ×—
- [ ] `make_request()` ××•×¡×™×£ `DoctorOnlineProxyAuthToken` ×œ-Headers
- [ ] ×§×¨×™××•×ª API ××¦×œ×™×—×•×ª (status 200)
- [ ] Widget/Shortcode ××¦×™×’×™× × ×ª×•× ×™×

---

**×¡×™×›×•×**: ×›×Ÿ, ×”×ª×•×¡×£ **×ª××™×“** ×™×“×¢ ×œ××©×•×š ××ª ×”×˜×•×›×Ÿ ××•×˜×•××˜×™×ª! ğŸ‰

